{% extends "base.html" %}

{% block meta %}
<!-- SEO META TAGS -->
<title>EnOcean & Cisco Issues | Sprintwave Blog</title>
<meta name="description" content="Troubleshooting EnOcean USB dongle detection issues with Cisco Catalyst APs and 9800 controllers on firmware 17.9.5. Solution: upgrade to 17.12.4.">
<meta name="keywords" content="EnOcean, Cisco Catalyst 9166, USB dongle, IoT, 9800 controller, firmware 17.9.5, 17.12.4, troubleshooting, Norfolk">
<meta name="author" content="Sprintwave">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

<!-- LOCAL SEO -->
<meta name="geo.region" content="GB-NFK">
<meta name="geo.placename" content="Norfolk, UK">
<meta name="geo.position" content="52.6309;1.2974">
<meta name="ICBM" content="52.6309, 1.2974">

<!-- SOCIAL MEDIA / OPEN GRAPH -->
<meta property="og:title" content="EnOcean & Cisco Issues | Fixing USB Dongle Detection | Sprintwave Blog">
<meta property="og:description" content="Complete troubleshooting guide for EnOcean USB dongle detection issues with Cisco Catalyst APs and 9800 controllers. Firmware solution included.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.sprintwave.co.uk/blog/enocean-catalyst">
<meta property="og:image" content="https://www.sprintwave.co.uk/static/enocean-catalyst.jpg">
<meta property="og:site_name" content="Sprintwave">
<meta property="og:locale" content="en_GB">

<!-- TWITTER CARDS -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="EnOcean & Cisco Issues | Fixing USB Dongle Detection">
<meta name="twitter:description" content="Troubleshooting guide for EnOcean USB dongle detection issues with Cisco Catalyst APs">
<meta name="twitter:image" content="https://www.sprintwave.co.uk/static/enocean-catalyst.jpg">

<!-- CANONICAL URL -->
<link rel="canonical" href="https://www.sprintwave.co.uk/blog/enocean-catalyst">

<!-- STRUCTURED DATA -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "EnOcean & Cisco Issues: Fixing USB Dongle Detection",
  "description": "Troubleshooting EnOcean USB dongle detection issues with Cisco Catalyst APs and 9800 controllers on firmware 17.9.5",
  "image": "https://www.sprintwave.co.uk/static/enocean-catalyst.jpg",
  "author": {
    "@type": "Organization",
    "name": "Sprintwave"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sprintwave",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.sprintwave.co.uk/static/logo.png"
    }
  },
  "datePublished": "2025-06-01",
  "dateModified": "2025-06-01",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.sprintwave.co.uk/blog/enocean-catalyst"
  }
}
</script>
{% endblock %}

{% block custom_css %}
<style>
  body {
    background-color: #e6f0ef;
    color: #1a1a1a;
    font-family: 'Inter', 'Helvetica Neue', sans-serif;
  }

  .blog-content {
    background: #fff;
    border-radius: 15px;
    padding: 3rem;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    margin: 2rem 0;
  }

  pre {
    background: #f8f9fa;
    padding: 1em;
    border-left: 4px solid #007f73;
    border-radius: 8px;
    overflow-x: auto;
  }

  code {
    background: #f1f5f9;
    padding: 0.2em 0.4em;
    border-radius: 4px;
    font-size: 0.9em;
  }

  .issue-card {
    background: #fff3cd;
    border-left: 4px solid #ffc107;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .solution-card {
    background: #d1edda;
    border-left: 4px solid #198754;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .info-card {
    background: #f8fafc;
    border-left: 4px solid #007f73;
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
  }

  .hero-section {
    padding: 100px 0 60px;
    background-color: #e6f0ef;
    text-align: center;
  }

  .hero-section h1 {
    color: #1a1a1a;
    font-weight: 700;
  }

  .hero-section p {
    color: #555;
  }

  @media (max-width: 768px) {
    .blog-content {
      padding: 1.5rem;
    }
    
    .hero-section {
      padding: 80px 0 40px;
    }
    
    .hero-section h1 {
      font-size: 2rem;
    }
  }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h1 class="display-5 fw-bold">
          <i class="bi bi-usb-plug me-3" style="color: #007f73;"></i>
          EnOcean & Cisco Issues
        </h1>
        <p class="lead">Fixing USB dongle detection issues with EnOcean devices on Cisco Catalyst APs</p>
        <p><small>Posted June 2025 • by Sprintwave Team</small></p>
      </div>
    </div>
  </div>
</section>

<!-- Blog Content -->
<section>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <div class="blog-content">
          <h4>What is EnOcean?</h4>
          <p>
            For anyone that doesn't know, EnOcean are a company that produces IOT dongle type devices that can plug into access points (they do a lot more than this too). These dongles then wirelessly talk to (868MHz in the UK) smart IOT devices such as power clamps. So they operate on a different frequency than WiFi meaning no interference.
          </p>

          <div class="info-card">
            <h5 class="accent mb-3">How EnOcean Works with Cisco APs</h5>
            <p>On Cisco access points a small docker container is installed on the AP that interfaces with this dongle and tunnels the data back to an EnOcean IOT connector (can be in the cloud). DNAC can be used to distribute this docker container or it can be done manually using the CLI.</p>
          </div>

          <h4>The Problem</h4>
          <div class="issue-card">
            <h5><strong>Issue Summary</strong></h5>
            <p>What we have found when deploying this is that they don't seem to work on the controller and AP version <strong>17.9.5</strong> which is currently the gold standard release for the 9800-40 controllers. We have only tested this on <strong>Catalyst 9166 APs</strong>.</p>
          </div>

          <p>
            The issue is that the USB device isn't detected correctly by the access points and when deploying the docker container from DNAC we receive this error:
          </p>

          <pre><code>ERR_AH_-1043 error during app installation – requested USB device not found on the AP</code></pre>

          <p>We receive a similar error when deploying via the CLI.</p>

          <h4>Initial Investigation</h4>
          <p>
            Initially we believed this was because the USB module type was not supported by the AP (<strong>PID/VID/VER 403/6015/1000</strong>) as it was not present when the <code>show usb list</code> command was entered.
          </p>

          <h4>Workaround Attempt</h4>
          <p>With the help of EnOcean we tried to manually allow this USB device type with the following commands:</p>

          <pre><code># Add support for the EnOcean USB device
test usb load module ftdi-sio vendor-id 403 product-id 6015 version 1000

# Restart USB subsystem
test usb disable
test usb enable</code></pre>

          <div class="issue-card">
            <p><strong>Result:</strong> Once this was done we could see the USB type now supported in the <code>show usb list</code> command. The EnOcean dongle is detected and seems ok from an AP perspective but the issue when deploying the docker/IOX container still presented the same error.</p>
          </div>

          <h4>The Solution</h4>
          <div class="solution-card">
            <h5><strong>Firmware Update Required</strong></h5>
            <p>Upgrading the firmware to <strong>17.12.4</strong> fixes this problem and enables the application to be installed onto the access point.</p>
          </div>

          <h4>Environment Details</h4>
          <div class="info-card">
            <strong>Tested Configuration:</strong>
            <ul>
              <li><strong>Controller:</strong> Cisco 9800-40</li>
              <li><strong>Access Points:</strong> Catalyst 9166</li>
              <li><strong>Problematic Firmware:</strong> 17.9.5 (Gold Standard)</li>
              <li><strong>Working Firmware:</strong> 17.12.4</li>
              <li><strong>EnOcean Device:</strong> USB dongle (PID/VID/VER 403/6015/1000)</li>
              <li><strong>Frequency:</strong> 868MHz (UK)</li>
            </ul>
          </div>

          <h4>Deployment Methods</h4>
          <p>EnOcean containers can be deployed using either:</p>
          <ul>
            <li><strong>DNAC:</strong> Centralized deployment and management</li>
            <li><strong>CLI:</strong> Manual installation on individual APs</li>
          </ul>

          <h4>Key Takeaways</h4>
          <div class="info-card">
            <ul class="mb-0">
              <li>EnOcean operates on 868MHz, completely separate from WiFi frequencies</li>
              <li>Version 17.9.5 has USB detection issues with EnOcean dongles</li>
              <li>Manual USB module loading doesn't resolve the IOX container deployment issue</li>
              <li>Upgrading to 17.12.4 resolves the problem completely</li>
              <li>Consider firmware compatibility when planning IoT integrations</li>
            </ul>
          </div>

          <p>
            This was a frustrating issue that appeared to be hardware compatibility but turned out to be a firmware bug. Always worth testing IoT integrations on the latest firmware versions before large-scale deployments.
          </p>

          <div class="mt-4 p-3" style="background: #f8fafc; border-radius: 10px;">
            <strong>Tags:</strong> 
            <span class="badge bg-secondary me-1">EnOcean</span>
            <span class="badge bg-secondary me-1">CiscoCatalyst</span>
            <span class="badge bg-secondary me-1">IoT</span>
            <span class="badge bg-secondary me-1">USB</span>
            <span class="badge bg-secondary me-1">Troubleshooting</span>
            <span class="badge bg-secondary me-1">9800</span>
          </div>

          <div class="mt-4 text-center">
            <a href="{{ url_for('blog') }}" class="btn btn-accent">
              <i class="bi bi-arrow-left me-2"></i>Back to Blog
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section class="py-5" style="background: #ffffff;">
  <div class="container text-center">
    <h3 class="mb-4">Need Help With IoT Integration?</h3>
    <p class="text-muted mb-4">Get expert advice on integrating IoT devices with enterprise wireless infrastructure.</p>
    <div class="d-flex flex-wrap justify-content-center gap-3">
      <a class="btn btn-accent" href="mailto:info@sprintwave.co.uk">
        <i class="bi bi-envelope me-2"></i>Email Us
      </a>
      <a class="btn btn-accent" href="tel:+441553824408">
        <i class="bi bi-telephone me-2"></i>Call: 01553 824408
      </a>
    </div>
  </div>
</section>
{% endblock %}